2025-06-01 18:36:57,152 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 18:36:57,152 - INFO - 📊 Step 1: Fetching features...
2025-06-01 18:36:58,364 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 18:37:00,237 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 18:37:00,246 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 18:37:00,246 - INFO - Trying to get the most recent available features...
2025-06-01 18:37:00,368 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 18:37:00,375 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 18:37:00,375 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 18:37:00,375 - INFO - Loading LightGBM model components...
2025-06-01 18:37:09,515 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 18:37:09,523 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 18:37:09,555 - INFO - ✅ Feature names loaded: 13 features
2025-06-01 18:37:09,571 - INFO - ✅ Model metadata loaded
2025-06-01 18:37:09,571 - INFO - 📊 Model Performance:
2025-06-01 18:37:09,571 - INFO -    Precision: 0.5769
2025-06-01 18:37:09,571 - INFO -    Accuracy: 0.5660
2025-06-01 18:37:09,571 - INFO -    ROC AUC: 0.5527
2025-06-01 18:37:09,651 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 18:37:09,651 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 18:37:09,651 - INFO - Preparing features for prediction using 13 features
2025-06-01 18:37:09,651 - INFO - Available columns in database: 18
2025-06-01 18:37:09,651 - ERROR - ❌ Missing required features: ['BB_width']
2025-06-01 18:37:09,651 - INFO - 📋 Available features: ['id', 'date', 'sent_q2_flag_x_close_to_sma10', 'btc_gld_corr_5d', 'btc_nasdaq_beta_10d', 'btc_nasdaq_corr_5d', 'sent_vol', 'sent_cross_up_x_high_low_range', 'sent_q5_flag', 'roc_1d', 'roc_3d', 'sent_5d', 'volume_change_1d', 'sent_neg_x_high_low_range', 'high_low_range', 'sent_accel', 'target_nextday', 'created_at']
2025-06-01 18:37:09,651 - INFO - 🔍 Required features: ['BTC_Nasdaq_beta_10d', 'sent_q5_flag', 'ROC_1d', 'high_low_range', 'ROC_3d', 'sent_5d', 'sent_cross_up_x_high_low_range', 'BTC_Nasdaq_corr_5d', 'BB_width', 'sent_accel', 'sent_vol', 'sent_neg_x_high_low_range', 'sent_q2_flag_x_Close_to_SMA10']
2025-06-01 18:37:09,651 - ERROR - ❌ Failed to make prediction
2025-06-01 18:42:51,207 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 18:42:51,207 - INFO - 📊 Step 1: Fetching features...
2025-06-01 18:42:52,231 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 18:42:53,864 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 18:42:53,872 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 18:42:53,872 - INFO - Trying to get the most recent available features...
2025-06-01 18:42:54,059 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 18:42:54,067 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 18:42:54,067 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 18:42:54,067 - INFO - Loading LightGBM model components...
2025-06-01 18:42:55,445 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 18:42:55,445 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 18:42:55,486 - INFO - ✅ Feature names loaded: 14 features
2025-06-01 18:42:55,502 - INFO - ✅ Model metadata loaded
2025-06-01 18:42:55,502 - INFO - 📊 Model Performance:
2025-06-01 18:42:55,502 - INFO -    Precision: 0.5769
2025-06-01 18:42:55,502 - INFO -    Accuracy: 0.5660
2025-06-01 18:42:55,510 - INFO -    ROC AUC: 0.5527
2025-06-01 18:42:55,510 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 18:42:55,510 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 18:42:55,510 - INFO - Preparing features for prediction using 13 features
2025-06-01 18:42:55,526 - INFO - Available columns in database: 18
2025-06-01 18:42:55,526 - ERROR - ❌ Missing required features: ['BB_width']
2025-06-01 18:42:55,534 - INFO - 📋 Available features: ['id', 'date', 'sent_q2_flag_x_close_to_sma10', 'btc_gld_corr_5d', 'btc_nasdaq_beta_10d', 'btc_nasdaq_corr_5d', 'sent_vol', 'sent_cross_up_x_high_low_range', 'sent_q5_flag', 'roc_1d', 'roc_3d', 'sent_5d', 'volume_change_1d', 'sent_neg_x_high_low_range', 'high_low_range', 'sent_accel', 'target_nextday', 'created_at']
2025-06-01 18:42:55,534 - INFO - 🔍 Required features: ['BTC_Nasdaq_beta_10d', 'sent_q5_flag', 'ROC_1d', 'high_low_range', 'ROC_3d', 'sent_5d', 'sent_cross_up_x_high_low_range', 'BTC_Nasdaq_corr_5d', 'BB_width', 'sent_accel', 'sent_vol', 'sent_neg_x_high_low_range', 'sent_q2_flag_x_Close_to_SMA10']
2025-06-01 18:42:55,534 - ERROR - ❌ Failed to make prediction
2025-06-01 19:27:05,885 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 19:27:05,885 - INFO - 📊 Step 1: Fetching features...
2025-06-01 19:27:07,122 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 19:27:09,449 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 19:27:09,457 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 19:27:09,457 - INFO - Trying to get the most recent available features...
2025-06-01 19:27:09,556 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 19:27:09,556 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 19:27:09,567 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 19:27:09,567 - INFO - Loading LightGBM model components...
2025-06-01 19:27:12,244 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 19:27:12,267 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 19:27:12,267 - INFO - ✅ Feature names loaded: 13 features
2025-06-01 19:27:12,292 - INFO - ✅ Model metadata loaded
2025-06-01 19:27:12,324 - INFO - 📊 Model Performance:
2025-06-01 19:27:12,324 - INFO -    Precision: 0.5769
2025-06-01 19:27:12,324 - INFO -    Accuracy: 0.5660
2025-06-01 19:27:12,324 - INFO -    ROC AUC: 0.5527
2025-06-01 19:27:12,324 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 19:27:12,332 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 19:27:12,332 - INFO - Preparing features for prediction using 13 features
2025-06-01 19:27:12,332 - INFO - Available columns in database: 17
2025-06-01 19:27:12,332 - ERROR - ❌ Missing required features: ['BTC_Nasdaq_corr_5d']
2025-06-01 19:27:12,332 - INFO - 📋 Available features: ['id', 'date', 'sent_q2_flag_x_close_to_sma10', 'btc_nasdaq_beta_10d', 'sent_vol', 'sent_cross_up_x_high_low_range', 'sent_q5_flag', 'roc_1d', 'roc_3d', 'sent_5d', 'volume_change_1d', 'sent_neg_x_high_low_range', 'high_low_range', 'sent_accel', 'target_nextday', 'created_at', 'bb_width']
2025-06-01 19:27:12,332 - INFO - 🔍 Required features: ['BTC_Nasdaq_beta_10d', 'sent_q5_flag', 'ROC_1d', 'high_low_range', 'ROC_3d', 'sent_5d', 'sent_cross_up_x_high_low_range', 'BTC_Nasdaq_corr_5d', 'BB_width', 'sent_accel', 'sent_vol', 'sent_neg_x_high_low_range', 'sent_q2_flag_x_Close_to_SMA10']
2025-06-01 19:27:12,332 - ERROR - ❌ Failed to make prediction
2025-06-01 19:29:06,295 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 19:29:06,295 - INFO - 📊 Step 1: Fetching features...
2025-06-01 19:29:07,414 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 19:29:09,870 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 19:29:09,878 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 19:29:09,878 - INFO - Trying to get the most recent available features...
2025-06-01 19:29:09,969 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 19:29:09,977 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 19:29:09,977 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 19:29:09,977 - INFO - Loading LightGBM model components...
2025-06-01 19:29:11,844 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 19:29:11,852 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 19:29:11,852 - INFO - ✅ Feature names loaded: 13 features
2025-06-01 19:29:11,852 - INFO - ✅ Model metadata loaded
2025-06-01 19:29:11,852 - INFO - 📊 Model Performance:
2025-06-01 19:29:11,852 - INFO -    Precision: 0.5769
2025-06-01 19:29:11,852 - INFO -    Accuracy: 0.5660
2025-06-01 19:29:11,860 - INFO -    ROC AUC: 0.5527
2025-06-01 19:29:11,860 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 19:29:11,860 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 19:29:11,860 - INFO - Preparing features for prediction using 13 features
2025-06-01 19:29:11,860 - INFO - Available columns in database: 18
2025-06-01 19:29:11,860 - INFO - 📊 Feature values:
2025-06-01 19:29:11,873 - INFO -    BTC_Nasdaq_beta_10d: 0.361087938380995
2025-06-01 19:29:11,873 - INFO -    sent_q5_flag: 0
2025-06-01 19:29:11,931 - INFO -    ROC_1d: -1.55543369783419
2025-06-01 19:29:11,931 - INFO -    high_low_range: 0.0252230029905008
2025-06-01 19:29:11,931 - INFO -    ROC_3d: -4.58377612316661
2025-06-01 19:29:11,931 - INFO -    sent_5d: 0.201146438717842
2025-06-01 19:29:11,931 - INFO -    sent_cross_up_x_high_low_range: 0
2025-06-01 19:29:11,931 - INFO -    BTC_Nasdaq_corr_5d: None
2025-06-01 19:29:11,939 - INFO -    BB_width: None
2025-06-01 19:29:11,939 - INFO -    sent_accel: 0
2025-06-01 19:29:11,939 - INFO -    sent_vol: 0
2025-06-01 19:29:11,939 - INFO -    sent_neg_x_high_low_range: 0
2025-06-01 19:29:11,939 - INFO -    sent_q2_flag_x_Close_to_SMA10: 0
2025-06-01 19:29:11,939 - ERROR - Error preparing features: X has 13 features, but StandardScaler is expecting 21 features as input.
2025-06-01 19:29:12,071 - ERROR - ❌ Failed to make prediction
2025-06-01 19:55:15,288 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 19:55:15,288 - INFO - 📊 Step 1: Fetching features...
2025-06-01 19:55:15,884 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 19:55:17,066 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 19:55:17,068 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 19:55:17,068 - INFO - Trying to get the most recent available features...
2025-06-01 19:55:17,160 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 19:55:17,161 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 19:55:17,165 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 19:55:17,165 - INFO - Loading LightGBM model components...
2025-06-01 19:55:18,436 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 19:55:18,439 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 19:55:18,449 - INFO - ✅ Feature names loaded: 13 features
2025-06-01 19:55:18,462 - INFO - ✅ Model metadata loaded
2025-06-01 19:55:18,462 - INFO - 📊 Model Performance:
2025-06-01 19:55:18,462 - INFO -    Precision: 0.5714
2025-06-01 19:55:18,463 - INFO -    Accuracy: 0.5660
2025-06-01 19:55:18,463 - INFO -    ROC AUC: 0.5783
2025-06-01 19:55:18,463 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 19:55:18,464 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 19:55:18,464 - INFO - Preparing features for prediction using 13 features
2025-06-01 19:55:18,464 - INFO - Available columns in database: 18
2025-06-01 19:55:18,465 - INFO - 📊 Feature values:
2025-06-01 19:55:18,467 - INFO -    BTC_Nasdaq_beta_10d: 0.361087938380995
2025-06-01 19:55:18,467 - INFO -    sent_q5_flag: 0
2025-06-01 19:55:18,467 - INFO -    ROC_1d: -1.55543369783419
2025-06-01 19:55:18,467 - INFO -    high_low_range: 0.0252230029905008
2025-06-01 19:55:18,468 - INFO -    ROC_3d: -4.58377612316661
2025-06-01 19:55:18,468 - INFO -    sent_5d: 0.201146438717842
2025-06-01 19:55:18,468 - INFO -    sent_cross_up_x_high_low_range: 0
2025-06-01 19:55:18,468 - INFO -    BTC_Nasdaq_corr_5d: None
2025-06-01 19:55:18,468 - INFO -    BB_width: None
2025-06-01 19:55:18,469 - INFO -    sent_accel: 0
2025-06-01 19:55:18,469 - INFO -    sent_vol: 0
2025-06-01 19:55:18,469 - INFO -    sent_neg_x_high_low_range: 0
2025-06-01 19:55:18,469 - INFO -    sent_q2_flag_x_Close_to_SMA10: 0
2025-06-01 19:55:18,470 - INFO - ✅ Features prepared successfully: shape (1, 13)
2025-06-01 19:55:18,470 - INFO - 🎯 Using 13 features for LightGBM prediction
2025-06-01 19:55:20,603 - INFO - 🎯 Prediction for 2025-06-02: DOWN ⬇️
2025-06-01 19:55:20,604 - INFO - 📊 Probability UP: 0.0006
2025-06-01 19:55:20,604 - INFO - 📊 Probability DOWN: 0.9994
2025-06-01 19:55:20,604 - INFO - 🎪 Confidence Level: High
2025-06-01 19:55:20,604 - INFO - 📈 Model Stats - Precision: 0.5714, Accuracy: 0.5660
2025-06-01 19:55:20,604 - INFO - 💾 Step 4: Saving prediction...
2025-06-01 19:55:20,604 - INFO - Saving LightGBM prediction for tomorrow: 2025-06-02
2025-06-01 19:55:21,476 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/btc_price_predictions?select=id&prediction_date=eq.2025-06-02 "HTTP/2 200 OK"
2025-06-01 19:55:21,572 - INFO - HTTP Request: POST https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/btc_price_predictions "HTTP/2 400 Bad Request"
2025-06-01 19:55:21,573 - ERROR - Error saving prediction: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'model_name' column of 'btc_price_predictions' in the schema cache"}
2025-06-01 19:55:21,573 - WARNING - ⚠️ Failed to save prediction to database
2025-06-01 19:55:21,580 - INFO - ✅ LightGBM prediction process completed successfully
2025-06-01 19:59:42,792 - INFO - 🚀 Starting Bitcoin LightGBM prediction process
2025-06-01 19:59:42,793 - INFO - 📊 Step 1: Fetching features...
2025-06-01 19:59:43,307 - INFO - Fetching features from yesterday: 2025-05-31
2025-06-01 19:59:44,284 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&date=eq.2025-05-31 "HTTP/2 200 OK"
2025-06-01 19:59:44,286 - ERROR - No features found for yesterday: 2025-05-31
2025-06-01 19:59:44,286 - INFO - Trying to get the most recent available features...
2025-06-01 19:59:44,390 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/model_features?select=%2A&order=date.desc&limit=1 "HTTP/2 200 OK"
2025-06-01 19:59:44,391 - INFO - Using most recent available features from: 2025-05-30
2025-06-01 19:59:44,395 - INFO - 🤖 Step 2: Loading LightGBM model...
2025-06-01 19:59:44,396 - INFO - Loading LightGBM model components...
2025-06-01 19:59:45,568 - INFO - ✅ LightGBM model loaded successfully
2025-06-01 19:59:45,571 - INFO - ✅ Feature scaler loaded successfully
2025-06-01 19:59:45,571 - INFO - ✅ Feature names loaded: 13 features
2025-06-01 19:59:45,572 - INFO - ✅ Model metadata loaded
2025-06-01 19:59:45,572 - INFO - 📊 Model Performance:
2025-06-01 19:59:45,573 - INFO -    Precision: 0.5714
2025-06-01 19:59:45,573 - INFO -    Accuracy:  0.5660
2025-06-01 19:59:45,573 - INFO -    ROC AUC:   0.5783
2025-06-01 19:59:45,573 - INFO - 🔮 Step 3: Making prediction...
2025-06-01 19:59:45,573 - INFO - Making LightGBM prediction for 2025-06-02
2025-06-01 19:59:45,573 - INFO - Preparing features for prediction using 13 features
2025-06-01 19:59:45,574 - INFO - Available columns in database: 18
2025-06-01 19:59:45,574 - INFO - 📊 Feature values:
2025-06-01 19:59:45,576 - INFO -    BTC_Nasdaq_beta_10d: 0.361087938380995
2025-06-01 19:59:45,576 - INFO -    sent_q5_flag: 0
2025-06-01 19:59:45,576 - INFO -    ROC_1d: -1.55543369783419
2025-06-01 19:59:45,576 - INFO -    high_low_range: 0.0252230029905008
2025-06-01 19:59:45,577 - INFO -    ROC_3d: -4.58377612316661
2025-06-01 19:59:45,577 - INFO -    sent_5d: 0.201146438717842
2025-06-01 19:59:45,577 - INFO -    sent_cross_up_x_high_low_range: 0
2025-06-01 19:59:45,577 - INFO -    BTC_Nasdaq_corr_5d: None
2025-06-01 19:59:45,577 - INFO -    BB_width: None
2025-06-01 19:59:45,577 - INFO -    sent_accel: 0
2025-06-01 19:59:45,577 - INFO -    sent_vol: 0
2025-06-01 19:59:45,578 - INFO -    sent_neg_x_high_low_range: 0
2025-06-01 19:59:45,578 - INFO -    sent_q2_flag_x_Close_to_SMA10: 0
2025-06-01 19:59:45,579 - INFO - ✅ Features prepared successfully: shape (1, 13)
2025-06-01 19:59:45,579 - INFO - 🎯 Using 13 features for LightGBM prediction
2025-06-01 19:59:47,028 - INFO - 🎯 Prediction for 2025-06-02: DOWN ⬇️
2025-06-01 19:59:47,028 - INFO - 📊 Probability UP:   0.0006
2025-06-01 19:59:47,028 - INFO - 📊 Probability DOWN: 0.9994
2025-06-01 19:59:47,028 - INFO - 🎪 Confidence Level: High
2025-06-01 19:59:47,029 - INFO - 📊 Confidence Score: 0.9994
2025-06-01 19:59:47,029 - INFO - 📈 Model Stats - Precision: 0.5714, Accuracy: 0.5660
2025-06-01 19:59:47,029 - INFO - 💾 Step 4: Saving prediction...
2025-06-01 19:59:47,029 - INFO - Saving LightGBM prediction for tomorrow: 2025-06-02
2025-06-01 19:59:47,877 - INFO - HTTP Request: GET https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/btc_price_predictions?select=id&prediction_date=eq.2025-06-02 "HTTP/2 200 OK"
2025-06-01 19:59:47,942 - INFO - HTTP Request: POST https://djxbfvtmkwshkhmltbby.supabase.co/rest/v1/btc_price_predictions "HTTP/2 201 Created"
2025-06-01 19:59:47,943 - INFO - ✅ Inserted new prediction for 2025-06-02
2025-06-01 19:59:47,949 - INFO - ✅ LightGBM prediction process completed successfully
